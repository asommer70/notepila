webpackJsonp([1,2],{130:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(0,f.bindActionCreators)({listFolders:C.listFolders,selectFolder:C.selectFolder,addFolder:C.addFolder,listNotes:h.listNotes},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(9),c=o(d),u=n(25),f=n(19),p=n(356),L=o(p),C=n(64),h=n(30),y=n(29),v=o(y),m=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showNewFolder:!1,newFolder:""},n}return l(t,e),s(t,[{key:"submitNewFolder",value:function(e){e.preventDefault(),this.props.addFolder(this.state.newFolder),this.setState({newFolder:"",showNewFolder:!1})}},{key:"render",value:function(){var e=this;if(!this.props.folders)return c.default.createElement("p",null,"No folders in the database...");void 0!==this.props.folders.type&&window.location.reload();var t=c.default.createElement("form",{onSubmit:this.submitNewFolder.bind(this),className:"new-folder"},c.default.createElement("input",{type:"text",name:"folder_name",placeholder:"New folder name",onChange:function(t){e.setState({newFolder:t.target.value})},value:this.state.newFolder}));return c.default.createElement("div",null,c.default.createElement("h2",null,"Folders"),c.default.createElement("div",null,c.default.createElement("div",{className:"btn btn-inline btn-small",onClick:function(){e.setState({showNewFolder:!e.state.showNewFolder})},title:"Add Folder"},c.default.createElement(v.default,{name:"plus"})),this.state.showNewFolder?t:""),c.default.createElement("ul",{className:"folders"},this.props.folders.map(function(t,n){var o=void 0;return o=e.props.activeFolder&&t.doc._id==e.props.activeFolder._id?"activeFolder":"folder",c.default.createElement("li",{key:t.doc._id,onClick:function(){e.props.selectFolder(t)}},c.default.createElement("div",null,c.default.createElement(v.default,{name:o})," Â   ",c.default.createElement(L.default,{folder:t})))})))}}]),t}(d.Component);t.default=(0,u.connect)(null,i)(m)},131:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(0,f.bindActionCreators)({listNotes:p.listNotes,selectNote:p.selectNote},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(9),c=o(d),u=n(25),f=n(19),p=n(30),L=n(29),C=o(L),h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.listNotes(n.props.folderId),n}return l(t,e),s(t,[{key:"submitNewNote",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this;return this.props.notes?c.default.createElement("div",null,c.default.createElement("h2",null,"Notes"),c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"row"},this.props.notes.map(function(t){var n=void 0;return n=e.props.active&&e.props.active.doc._id==t.doc._id?"activeNote":"note",c.default.createElement("div",{key:t.id,className:"col-6 notes"},c.default.createElement("div",{className:"note",onClick:function(){return e.props.selectNote(t)}},c.default.createElement(C.default,{name:n,className:""}),c.default.createElement("div",{className:"noteTitle"},t.doc.title)))}))),c.default.createElement("p",null,this.props.folder?this.props.folder.name:"")):c.default.createElement("p",null,"No notes, yet...")}}]),t}(d.Component),y=function(e){return{notes:e.app.notes,active:e.app.activeNote}};t.default=(0,u.connect)(y,i)(h)},139:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(9),d=o(s),c=n(29),u=o(c),f=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return l(t,e),i(t,[{key:"render",value:function(){var e="RichEditor-styleButton";this.props.active&&(e+=" RichEditor-activeButton");var t=void 0;return"header-"==this.props.style.substr(0,7)?(t=this.props.label,e+=" header-btn"):t=d.default.createElement(u.default,{name:this.props.label,className:"editor-icon"}),d.default.createElement("div",{className:"btn btn-inline "+e,onMouseDown:this.onToggle},t)}}]),t}(s.Component);t.default=f},29:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r=o(a);t.default=function(e){var t=void 0;switch(e.name){case"folder":t="M 936 95 L 910 95 L 644 95 L 449 95 L 325 0 L 63 0 C 28 0 0 28 0 63 L 0 356 L 0 394 L 0 548 L 0 723 L 0 736 C 0 771 28 800 63 800 L 379 800 L 620 800 L 936 800 C 971 800 1000 771 1000 736 L 1000 723 L 1000 548 L 1000 158 C 1000 123 971 95 936 95 z M 42 63 C 42 51 51 42 63 42 L 310 42 L 435 137 L 644 137 L 910 137 L 936 137 C 948 137 957 146 957 158 L 957 187 L 427 187 L 377 245 L 63 245 C 56 245 49 247 42 249 L 42 63 z";break;case"activeFolder":t="M 478 553 L 1000 132 L 472 712 L 249 432 L 478 553 z M 601 616 L 711 616 C 737 616 759 594 759 567 L 759 557 L 759 442 L 601 616 z M 225 451 C 216 440 216 423 226 412 C 232 405 240 401 249 401 C 254 401 259 402 264 404 L 474 516 L 759 286 L 759 122 C 759 95 737 73 711 73 L 691 73 L 489 73 L 341 73 L 247 0 L 48 0 C 21 0 0 21 0 48 L 0 275 L 0 304 L 0 423 L 0 557 L 0 567 C 0 594 21 616 48 616 L 288 616 L 357 616 L 225 451 z M 32 192 L 32 48 C 32 39 39 32 48 32 L 236 32 L 330 105 L 489 105 L 691 105 L 711 105 C 720 105 727 113 727 122 L 727 144 L 324 144 L 286 189 L 48 189 C 42 189 37 190 32 192 z";break;case"note":t="M 0 0 L 0 1000 L 716 1000 L 716 0 L 0 0 z M 365 767 L 213 767 L 191 767 L 124 767 L 124 676 L 191 676 L 213 676 L 365 676 L 365 767 z M 592 545 L 213 545 L 191 545 L 124 545 L 124 454 L 191 454 L 213 454 L 592 454 L 592 545 z M 592 323 L 213 323 L 191 323 L 124 323 L 124 232 L 191 232 L 213 232 L 592 232 L 592 323 z";break;case"activeNote":t="M 0 0 L 0 1000 L 716 1000 L 716 0 L 0 0 z M 292 678 L 160 521 L 234 458 L 295 531 L 484 321 L 556 386 L 292 678 z";break;case"check":t="M 363 755 L 0 446 L 133 289 L 355 477 L 857 0 L 1000 149";break;case"x":t="M 154 0 L 0 155 L 344 500 L 0 845 L 155 1000 L 500 655 L 844 1000 L 999 844 L 655 500 L 1000 155 L 844 0 L 500 345 L 154 0 L 154 0 z";break;case"plus":t="M 591 0 L 408 0 L 408 408 L 0 408 L 0 591 L 408 591 L 408 1000 L 591 999 L 591 591 L 1000 591 L 999 408 L 591 408 L 591 0 L 591 0 z";break;case"sync":t="M 855 532 C 857 526 871 472 933 486 C 1000 501 973 573 973 573 C 919 790 722 945 497 945 C 352 945 216 881 123 772 L 21 875 L 21 579 L 316 579 L 211 684 C 280 770 386 821 497 821 C 654 821 793 719 844 574 L 853 543 C 853 539 855 536 855 532 M 144 412 C 142 419 128 472 66 459 C 0 444 26 372 26 372 C 80 155 277 0 502 0 C 647 0 783 64 876 173 L 978 70 L 978 366 L 683 366 L 788 261 C 719 175 613 123 502 123 C 345 123 206 226 155 371 L 146 402 C 146 406 144 409 144 412";break;case"bold":t="M 0 0 L 470 0 C 660 0 789 61 789 247 C 789 345 740 414 654 456 C 775 491 837 585 837 710 C 837 913 665 1000 484 1000 L 0 1000 L 0 0 z M 219 404 L 442 404 C 519 404 576 369 576 285 C 576 190 504 170 425 170 L 219 170 L 219 404 z M 219 829 L 455 829 C 541 829 617 801 617 697 C 617 595 553 554 459 554 L 219 554 L 219 829 z";break;case"italic":t="M 728 103 L 750 0 L 219 0 L 198 103 L 355 103 L 187 896 L 21 896 L 0 1000 L 530 1000 L 551 896 L 385 896 L 553 103";break;case"underline":t="M 562 531 L 305 531 L 275 602 C 265 625 260 645 260 660 C 260 680 268 695 285 705 C 294 710 318 715 356 717 L 356 737 L 114 737 L 114 717 C 140 714 162 703 179 685 C 195 668 216 631 241 576 L 500 0 L 510 0 L 772 592 C 797 648 817 684 833 698 C 845 709 862 716 885 717 L 885 737 L 534 737 L 534 717 L 548 717 C 576 717 596 714 608 706 C 615 700 619 692 619 681 C 619 675 618 668 616 662 C 615 658 610 645 600 622 L 562 531 z M 543 492 L 435 243 L 324 492 L 543 492 z M 1000 838 L 0 838 L 0 887 L 1000 887 L 1000 838 z";break;case"header":t="M 915 75 L 915 75 L 915 0 L 915 0 L 915 0 L 864 0 L 864 0 L 51 0 L 0 0 L 0 0 L 0 0 L 0 75 L 0 76 L 0 76 L 0 301 C 0 301 0 302 0 302 C 0 302 0 303 0 303 C 0 305 0 307 2 309 C 5 316 14 321 25 321 C 39 321 51 312 51 301 L 51 299 C 51 299 51 297 51 284 C 51 284 54 203 113 144 C 129 129 149 119 174 114 C 198 108 209 105 247 105 C 292 105 324 110 343 120 C 362 130 372 153 372 191 L 372 792 C 372 825 370 852 366 871 C 362 890 355 904 344 915 C 334 925 319 932 300 937 C 281 942 277 946 245 949 C 244 949 243 949 242 950 C 241 950 240 950 239 951 C 237 952 236 953 234 955 C 234 955 233 956 232 957 C 232 958 232 958 231 958 C 231 959 231 960 230 960 C 229 962 229 964 228 966 C 228 967 228 968 228 969 C 227 971 227 972 227 974 C 227 974 227 974 227 975 C 227 975 227 975 227 976 C 227 982 228 987 231 992 C 234 997 239 1000 245 1000 C 246 1000 247 999 248 999 C 248 999 248 1000 248 1000 L 666 1000 C 666 1000 667 999 667 999 C 673 999 678 997 681 992 C 685 987 686 982 686 976 C 686 975 687 975 687 974 C 687 960 677 948 666 948 L 664 948 C 634 945 628 942 609 937 C 589 932 574 925 564 915 C 553 904 546 890 543 871 C 540 852 539 825 539 792 L 539 191 C 539 153 549 130 569 120 C 590 110 603 105 649 105 C 683 105 712 108 736 114 C 761 119 781 129 798 144 C 815 159 829 180 839 206 C 849 232 858 247 864 288 L 864 302 C 864 313 875 322 890 322 C 901 322 910 316 914 308 C 914 306 915 305 915 303 C 915 303 915 302 915 302 C 915 302 915 302 915 302 L 915 75 z";break;case"ordered-list":t="M 1000 113 C 1000 155 966 189 924 189 L 351 189 C 310 189 276 155 276 113 L 276 113 C 276 71 310 37 351 37 L 924 37 C 966 37 1000 71 1000 113 L 1000 113 z M 1000 829 C 1000 787 966 753 924 753 L 351 753 C 310 753 276 787 276 829 L 276 829 C 276 871 310 905 351 905 L 924 905 C 966 905 1000 871 1000 829 L 1000 829 z M 1000 487 C 1000 445 966 411 924 411 L 351 411 C 310 411 276 445 276 487 L 276 487 C 276 529 310 563 351 563 L 924 563 C 966 563 1000 529 1000 487 L 1000 487 z M 125 36 C 125 23 123 14 118 8 C 113 2 106 0 96 0 L 70 0 C 58 0 49 1 43 5 C 37 9 34 15 34 23 C 34 31 37 37 43 41 C 49 45 57 47 68 47 L 73 47 L 73 191 C 73 203 75 212 79 218 C 84 224 90 227 99 227 C 108 227 114 224 118 218 C 123 212 125 203 125 191 L 125 36 z M 75 555 C 106 524 127 500 137 484 C 147 468 152 452 152 438 C 152 418 146 402 132 390 C 119 377 102 371 80 371 C 68 371 57 374 47 379 C 36 384 27 391 20 400 C 17 403 15 407 13 410 C 11 413 10 417 8 421 C 5 428 4 435 4 442 C 4 450 6 456 11 461 C 16 466 22 468 29 468 C 35 468 40 466 43 463 C 47 460 50 453 54 442 C 57 434 61 429 65 425 C 69 421 74 419 79 419 C 84 419 89 421 93 425 C 96 429 98 434 98 440 C 98 448 94 457 86 469 C 79 480 64 499 41 523 L 31 534 C 10 557 0 572 0 579 C 0 587 3 593 8 597 C 13 601 20 603 31 603 L 122 603 C 134 603 143 601 149 597 C 155 593 158 587 158 579 C 158 571 155 565 149 561 C 143 557 134 555 122 555 L 75 555 z M 141 796 C 145 789 147 781 147 771 C 147 754 141 739 128 728 C 115 716 99 710 80 710 C 61 710 44 715 29 727 C 14 738 7 750 7 764 C 7 770 9 775 13 779 C 17 783 22 785 28 785 C 35 785 43 781 52 772 L 55 769 L 56 769 C 64 761 72 757 79 757 C 84 757 89 759 92 762 C 94 764 95 766 96 768 C 97 771 97 773 97 776 C 97 782 95 787 91 791 C 87 795 81 798 73 799 C 65 801 60 804 57 807 C 54 811 52 816 52 822 C 52 829 54 834 57 838 C 60 841 66 843 74 845 C 86 847 95 850 100 854 C 104 858 106 863 106 871 C 106 880 104 886 98 892 C 93 897 87 900 79 900 C 69 900 58 893 48 879 L 45 875 C 41 870 37 866 34 864 C 31 862 27 861 23 861 C 16 861 10 864 6 868 C 2 873 0 879 0 886 C 0 893 2 900 7 908 C 12 917 19 924 28 931 C 35 937 43 941 52 944 C 56 945 60 946 65 947 C 69 948 74 948 78 948 C 102 948 121 941 136 927 C 151 913 159 896 159 875 C 159 862 156 851 150 841 C 143 832 134 824 121 817 C 130 811 137 804 141 796 z";break;case"unordered-list":t="M 188 94 C 188 146 146 188 94 188 C 42 188 0 146 0 94 C 0 42 42 0 94 0 C 146 0 188 42 188 94 z M 94 624 C 42 624 0 666 0 718 C 0 770 42 812 94 812 C 146 812 188 770 188 718 C 188 666 146 624 94 624 z M 94 320 C 42 320 0 362 0 414 C 0 466 42 509 94 509 C 146 509 188 466 188 414 C 188 362 146 320 94 320 z M 1000 116 C 1000 76 967 43 927 43 L 381 43 C 341 43 309 76 309 116 L 309 116 C 309 156 341 188 381 188 L 927 188 C 967 188 1000 156 1000 116 L 1000 116 z M 1000 723 C 1000 683 967 651 927 651 L 381 651 C 341 651 309 683 309 723 L 309 723 C 309 763 341 795 381 795 L 927 795 C 967 795 1000 763 1000 723 L 1000 723 z M 1000 419 C 1000 380 967 347 927 347 L 381 347 C 341 347 309 380 309 419 L 309 419 C 309 459 341 492 381 492 L 927 492 C 967 492 1000 459 1000 419 L 1000 419 z";break;case"quote":t="M 0 0 L 0 701 L 57 701 L 57 875 L 142 701 L 1000 701 L 1000 0 L 0 0 z M 330 529 C 251 529 186 465 186 386 C 186 386 186 386 186 385 C 186 385 186 384 186 384 C 186 328 203 278 238 234 C 272 190 326 154 401 128 L 401 158 C 358 174 324 198 299 232 C 295 238 292 244 288 249 C 301 245 315 243 330 243 C 409 243 474 307 474 386 C 474 465 409 529 330 529 z M 669 529 C 590 529 526 465 526 386 C 526 386 526 386 526 385 C 526 385 525 384 525 384 C 525 328 543 278 577 234 C 611 190 666 154 740 128 L 740 158 C 697 174 663 198 639 232 C 634 238 631 244 627 249 C 641 245 655 243 669 243 C 749 243 813 307 813 386 C 813 465 749 529 669 529 z";break;case"code":t="M 131 292 L 283 444 L 217 510 L 0 292 L 219 73 L 285 139 L 131 292 z M 868 292 L 716 444 L 782 510 L 1000 292 L 780 73 L 714 139 L 868 292 z M 658 18 L 580 0 L 443 565 L 522 583 L 658 18 z";break;case"indent":t="M 0 35 C 0 15 15 0 35 0 L 589 0 C 608 0 624 15 624 35 L 624 35 C 624 55 608 70 589 70 L 35 70 C 15 70 0 55 0 35 L 0 35 z M 0 726 C 0 745 15 761 35 761 L 606 761 C 626 761 642 745 642 726 L 642 726 C 642 706 626 690 606 690 L 35 690 C 15 690 0 706 0 726 L 0 726 z M 0 584 C 0 604 15 620 35 620 L 341 620 C 360 620 376 604 376 584 L 376 584 C 376 565 360 549 341 549 L 35 549 C 15 549 0 565 0 584 L 0 584 z M 0 442 C 0 462 15 478 35 478 L 341 478 C 360 478 376 462 376 442 L 376 442 C 376 423 360 407 341 407 L 35 407 C 15 407 0 423 0 442 L 0 442 z M 0 301 C 0 320 15 336 35 336 L 341 336 C 360 336 376 320 376 301 L 376 301 C 376 281 360 265 341 265 L 35 265 C 15 265 0 281 0 301 L 0 301 z M 0 159 C 0 179 15 194 35 194 L 589 194 C 608 194 624 178 624 159 L 624 159 C 624 139 608 124 589 124 L 35 124 C 15 124 0 139 0 159 L 0 159 z M 0 868 C 0 848 15 832 35 832 L 606 832 C 626 832 642 848 642 868 L 642 868 C 642 887 626 903 606 903 L 35 903 C 15 903 0 887 0 868 L 0 868 z M 444 446 L 444 458 C 444 496 476 528 515 528 L 766 528 L 766 638 L 1000 452 L 766 265 L 766 376 L 515 376 C 476 376 444 407 444 446 z";break;case"oudent":t="M 1000 35 C 1000 55 984 70 964 70 L 410 70 C 391 70 375 55 375 35 L 375 35 C 375 15 391 0 410 0 L 964 0 C 984 0 1000 15 1000 35 L 1000 35 z M 1000 726 C 1000 706 984 690 964 690 L 393 690 C 373 690 357 706 357 726 L 357 726 C 357 745 373 761 393 761 L 964 761 C 984 761 1000 745 1000 726 L 1000 726 z M 1000 584 C 1000 565 984 549 964 549 L 658 549 C 639 549 623 565 623 584 L 623 584 C 623 604 639 620 658 620 L 964 620 C 984 620 1000 604 1000 584 L 1000 584 z M 1000 442 C 1000 423 984 407 964 407 L 658 407 C 639 407 623 423 623 442 L 623 442 C 623 462 639 478 658 478 L 964 478 C 984 478 1000 462 1000 442 L 1000 442 z M 1000 301 C 1000 281 984 265 964 265 L 658 265 C 639 265 623 281 623 301 L 623 301 C 623 320 639 336 658 336 L 964 336 C 984 336 1000 320 1000 301 L 1000 301 z M 1000 159 C 1000 139 984 124 964 124 L 410 124 C 391 124 375 139 375 159 L 375 159 C 375 179 391 194 410 194 L 964 194 C 984 194 1000 179 1000 159 L 1000 159 z M 1000 868 C 1000 887 984 903 964 903 L 393 903 C 373 903 357 887 357 868 L 357 868 C 357 848 373 832 393 832 L 964 832 C 984 832 1000 848 1000 868 L 1000 868 z M 484 376 L 233 376 L 233 265 L 0 452 L 233 638 L 233 528 L 484 528 C 523 528 555 497 555 458 L 555 446 C 555 407 523 376 484 376 z"}return r.default.createElement("svg",{className:e.className?"icon "+e.className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"150px",height:"150px",viewBox:"0 0 512 512"},r.default.createElement("path",{transform:"matrix(0.512,0,0,0.512,0,0)",stroke:"none",d:t}))}},30:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=u.db.query("notes/index",{key:e,include_docs:!0});return function(e){t.then(function(t){e({type:L,payload:t.rows})})}}function r(e){return{type:C,payload:e}}function l(e){var t=void 0,n=void 0,o="";e.body.blocks.map(function(e){o+=e.text+"\n"}),e._rev?(n=e,n.bodyRaw=o,n.updatedAt=(0,p.default)().unix(),t=v):(n={_id:(0,c.default)(e.title,"_").toLowerCase(),title:e.title,body:e.body,bodyRaw:o,folder:e.folder,type:"note",createdAt:(0,p.default)().unix(),updatedAt:(0,p.default)().unix()},t=h);var a=void 0;return a=t==h?u.db.putIfNotExists(n):u.db.upsert(n._id,function(e){return n}),function(e){a.then(function(o){return u.db.get(n._id).then(function(n){e({type:t,payload:n})})}).catch(function(e){console.log("saveNote err:",e)})}}function i(e){var t=u.db.remove(e);return function(e){t.then(function(t){e({type:y,payload:{data:t,deleted:t.id}}),e({type:C,payload:void 0})})}}function s(e){var t=u.db.search({query:e,fields:["title","bodyRaw"],include_docs:!0,filter:function(e){return"note"===e.type},mm:"33%"});return function(e){t.then(function(t){e({type:L,payload:t.rows})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_NOTE=t.DELETE_NOTE=t.ADD_NOTE=t.SELECT_NOTE=t.LIST_NOTES=void 0,t.listNotes=a,t.selectNote=r,t.saveNote=l,t.deleteNote=i,t.search=s;var d=n(84),c=o(d),u=n(49),f=n(0),p=o(f),L=t.LIST_NOTES="list_notes",C=t.SELECT_NOTE="select_note",h=t.ADD_NOTE="add_note",y=t.DELETE_NOTE="delete_note",v=t.UPDATE_NOTE="update_note"},337:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{folders:e.app.folders,notes:e.app.notes,activeFolder:e.app.activeFolder,activeNote:e.app.activeNote,settings:e.app.settings,sync:e.app.sync}}function s(e){return(0,L.bindActionCreators)({listFolders:O.listFolders,selectFolder:O.selectFolder,addFolder:O.addFolder,listNotes:F.listNotes,search:F.search,updateSettings:k.updateSettings,syncDatabase:k.syncDatabase},e)}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(9),f=o(u),p=n(25),L=n(19),C=n(0),h=o(C),y=n(130),v=o(y),m=n(131),b=o(m),E=n(357),g=o(E),_=n(29),N=o(_),w=n(633),S=o(w),O=n(64),F=n(30),k=n(49),M=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.updateSettings(),e.listFolders(),n.state={editSettings:!1,settings:e.settings},n}return l(t,e),c(t,[{key:"search",value:function(e){e.preventDefault(),this.props.search(this.input.value)}},{key:"saveSettings",value:function(e){e.preventDefault(),this.props.updateSettings(this.state.settings)}},{key:"componentWillReceiveProps",value:function(e){e.settings&&this.setState({settings:e.settings})}},{key:"sync",value:function(e){e.preventDefault(),""!=this.state.settings.syncUrl&&this.props.syncDatabase(this.state.settings)}},{key:"render",value:function(){var e=this,t=void 0;t=this.state.settings&&this.state.settings.syncDate?this.state.settings.syncDate:"Never";var n=f.default.createElement("form",{onSubmit:this.saveSettings.bind(this)},f.default.createElement("input",{type:"text",name:"syncUrl",placeholder:"PouchDB URL",className:"settings-input",value:this.state.settings?this.state.settings.syncUrl:"",onChange:function(t){e.setState({settings:d({},e.state.settings,{syncUrl:t.target.value})})}}),f.default.createElement("div",{className:"sync-date"},"Last Sync: ",f.default.createElement("strong",null,h.default.unix(t).fromNow())),f.default.createElement("div",{className:"settings-buttons"},f.default.createElement("button",{className:"btn btn-inline btn-small check",title:"Save Settings"},f.default.createElement(N.default,{name:"check"})),"Â Â ",f.default.createElement("button",{className:"btn btn-inline btn-small",onClick:this.sync.bind(this),title:"Sync Database"},f.default.createElement(N.default,{name:"sync"}))));return f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-9"},f.default.createElement("ul",{className:"menu"},f.default.createElement("li",null,f.default.createElement("div",null,f.default.createElement("img",{className:"logo",src:S.default,onClick:function(){e.setState({editSettings:!e.state.editSettings})}}),this.state.editSettings?n:"")),f.default.createElement("li",null,f.default.createElement("form",{className:"searchForm",onSubmit:this.search.bind(this)},f.default.createElement("input",{type:"text",id:"search ",name:"search",placeholder:"Search",ref:function(t){return e.input=t}})))))),f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-2"},f.default.createElement(v.default,{folders:this.props.folders,activeFolder:this.props.activeFolder})),f.default.createElement("div",{className:"col-4"},f.default.createElement(b.default,{folderId:this.props.activeFolder?this.props.activeFolder._id:"main"})),f.default.createElement("div",{className:"col-6"},f.default.createElement(g.default,{note:void 0!==this.props.activeNote?this.props.activeNote:null,folderId:void 0!==this.props.activeFolder?this.props.activeFolder._id:"main"}))))}}]),t}(u.Component);t.default=(0,p.connect)(i,s)(M)},338:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(358),l=o(r),i=(0,a.combineReducers)({app:l.default});t.default=i},339:function(e,t){},340:function(e,t){},341:function(e,t){},342:function(e,t){},343:function(e,t){},344:function(e,t){},345:function(e,t){},354:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r=o(a),l=n(139),i=o(l),s=n(29),d=o(s);t.default=function(e){var t=void 0,n=void 0,o=void 0,a=void 0;"inline"==e.type?t=e.editorState.getCurrentInlineStyle():(o=e.editorState,a=o.getSelection(),n=o.getCurrentContent().getBlockForKey(a.getStartKey()).getType());var l=void 0;return l="header"==e.type?r.default.createElement("div",{id:"dropdown"},r.default.createElement("nav",null,r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("a",{className:"btn btn-inline RichEditor-styleButton",href:"#",onClick:function(e){return e.preventDefault()}},r.default.createElement(d.default,{name:"header",className:"headers"}),"                  ",r.default.createElement("span",{className:"arrow-down"})),r.default.createElement("br",null),r.default.createElement("ul",null,e.actions.map(function(o){return r.default.createElement("li",{key:o.label},r.default.createElement(i.default,{key:o.label,active:"inline"==e.type?t.has(o.style):o.style===n,label:o.label,onToggle:e.onToggle,style:o.style}))})))))):e.actions.map(function(o){return r.default.createElement(i.default,{key:o.label,active:"inline"==e.type?t.has(o.style):o.style===n,label:o.label,onToggle:e.onToggle,style:o.style})}),r.default.createElement("div",{className:"RichEditor-controls"},l)}},355:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(9),d=o(s),c=n(25),u=n(19),f=n(132),p=n(0),L=o(p),C=n(30),h=n(29),y=o(h),v=n(139),m=(o(v),n(354)),b=o(m),E=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editorState:f.EditorState.createEmpty(),title:"",titleError:!1},n.onChange=function(e){return n.setState({editorState:e})},n.handleKeyCommand=n.handleKeyCommand.bind(n),n.toggleInlineStyle=n.toggleInlineStyle.bind(n),n.toggleBlockType=n.toggleBlockType.bind(n),n}return l(t,e),i(t,[{key:"handleKeyCommand",value:function(e){var t=f.RichUtils.handleKeyCommand(this.state.editorState,e);return t?(this.onChange(t),"handled"):"not-handled"}},{key:"toggleInlineStyle",value:function(e){this.onChange(f.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"toggleBlockType",value:function(e){this.onChange(f.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"componentWillMount",value:function(){if(this.props.note){var e=(0,f.convertFromRaw)(this.props.note.doc.body);this.setState({editorState:f.EditorState.createWithContent(e)})}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.note)if(e.addNote)this.setState({editorState:f.EditorState.createEmpty()});else{var t=(0,f.convertFromRaw)(e.note.doc.body);this.setState({editorState:f.EditorState.createWithContent(t)})}}},{key:"handleTitleChange",value:function(e){e.preventDefault(),this.setState({title:e.target.value,titleError:!1})}},{key:"saveEdit",value:function(e){e.preventDefault();var t=void 0;t=this.props.note&&!this.props.addNote?this.props.note.doc:{},""!==this.state.title&&(t.title=this.state.title);var n=void 0;""==t.title||void 0==t.title?this.setState({titleError:!this.state.titleError}):(n=void 0,t.folder=this.props.folder?this.props.folder._id:"main",t.body=(0,f.convertToRaw)(this.state.editorState.getCurrentContent()),this.props.saveNote(t))}},{key:"render",value:function(){var e=this,t=void 0;this.props.addNote&&(t=d.default.createElement("div",null,d.default.createElement("input",{type:"text",className:"title",name:"title",placeholder:"Title",value:this.state.title,onChange:this.handleTitleChange.bind(this)}),this.state.titleError?d.default.createElement("div",{className:"danger"},"Please add a title."):"",d.default.createElement("br",null),d.default.createElement("br",null)));var n=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}],o=[{label:"quote",style:"blockquote"},{label:"code",style:"code-block"}],a=[{label:"ordered-list",style:"ordered-list-item"},{label:"unordered-list",style:"unordered-list-item"}],r=[{label:"bold",style:"BOLD"},{label:"italic",style:"ITALIC"},{label:"underline",style:"UNDERLINE"}],l=void 0;return l=this.props.note?d.default.createElement("div",{className:"sync-date"},"Last saved: ",d.default.createElement("strong",null,L.default.unix(this.props.note.doc.updatedAt).fromNow())):"",d.default.createElement("div",{className:"editor"},t,d.default.createElement(b.default,{type:"inline",editorState:this.state.editorState,onToggle:this.toggleInlineStyle,actions:r}),d.default.createElement(b.default,{type:"block",editorState:this.state.editorState,onToggle:this.toggleBlockType,actions:a}),d.default.createElement(b.default,{type:"block",editorState:this.state.editorState,onToggle:this.toggleBlockType,actions:o}),d.default.createElement(b.default,{type:"header",editorState:this.state.editorState,onToggle:this.toggleBlockType,actions:n}),d.default.createElement(f.Editor,{editorState:this.state.editorState,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,onBlur:this.saveEdit.bind(this)}),d.default.createElement("br",null),d.default.createElement("div",{className:"btn btn-inline check",onClick:this.saveEdit.bind(this),title:"Save Note"},d.default.createElement(y.default,{name:"check"})),"Â Â Â Â ",this.props.note&&!this.props.addNote?d.default.createElement("div",{className:"btn btn-inline btn-small btn-danger",onClick:function(){return e.props.deleteNote(e.props.note.doc)},title:"Delete Note"},d.default.createElement(y.default,{name:"x"})):"","Â Â Â Â ",l)}}]),t}(s.Component),g=function(e){return{note:e.app.activeNote,folder:e.app.activeFolder}},_=function(e){return(0,u.bindActionCreators)({saveNote:C.saveNote,deleteNote:C.deleteNote},e)};t.default=(0,c.connect)(g,_)(E)},356:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return(0,f.bindActionCreators)({selectFolder:p.selectFolder,updateFolder:p.updateFolder,deleteFolder:p.deleteFolder},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(9),c=o(d),u=n(25),f=n(19),p=n(64),L=n(29),C=o(L),h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editFolder:!1,editFolderName:""},n}return l(t,e),s(t,[{key:"editFolder",value:function(e,t){t.preventDefault(),"main"!==this.props.folder._id&&"main"!==this.props.folder.id&&this.setState({editFolder:!this.state.editFolder,editFolderName:this.props.folder.doc?this.props.folder.doc.name:this.props.folder.name})}},{key:"updateFolder",value:function(e){e.preventDefault();var t=void 0;t=this.props.folder.doc?this.props.folder.doc:this.props.folder,this.props.updateFolder(t,this.state.editFolderName),this.setState({editFolder:!1,editFolderName:""}),this.props.selectFolder(t._id)}},{key:"deleteFolder",value:function(e){e.preventDefault(),this.props.deleteFolder(this.props.folder),this.setState({editFolder:!1,editFolderName:""}),this.props.selectFolder("main")}},{key:"render",value:function(){var e=this;if(this.props.folder){var t=c.default.createElement("form",{onSubmit:this.updateFolder.bind(this),className:"new-folder"},c.default.createElement("input",{type:"text",className:"folderName",name:"folder_name",onChange:function(t){e.setState({editFolderName:t.target.value})},value:this.state.editFolderName}),c.default.createElement("div",{className:"btn btn-inline",onClick:function(){return e.setState({editFolder:!1,editFolderName:""})},title:"Cancel"},c.default.createElement("span",null,"CANCEL")),"Â Â ",c.default.createElement("div",{className:"btn btn-inline btn-small btn-danger",onClick:this.deleteFolder.bind(this),title:"Delete Folder"},c.default.createElement(C.default,{name:"x"})),c.default.createElement("br",null),c.default.createElement("br",null)),n=c.default.createElement("span",{onDoubleClick:this.editFolder.bind(this,this.props.folder)},this.props.folder.doc?this.props.folder.doc.name:this.props.folder.name);return c.default.createElement("div",{className:"folder"},this.state.editFolder?t:n)}}}]),t}(d.Component);t.default=(0,u.connect)(null,i)(h)},357:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(9),d=o(s),c=n(25),u=n(19),f=n(0),p=o(f),L=n(30),C=n(49),h=n(355),y=o(h),v=n(29),m=o(v),b=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={doc:{_id:null,title:"",body:""},addNote:!1},n}return l(t,e),i(t,[{key:"handleNoteChange",value:function(e){e.preventDefault();var t=this.state.doc;t[e.target.name]=e.target.value,this.setState({doc:t})}},{key:"componentWillReceiveProps",value:function(e){e.note?this.setState({doc:e.note.doc,addNote:!1}):this.setState({addNote:!1})}},{key:"editTitle",value:function(e){e.preventDefault();var t=this.state.doc;t.title=e.target.value,this.setState({doc:t})}},{key:"sync",value:function(e){e.preventDefault(),""!=this.props.settings.syncUrl&&this.props.syncDatabase(this.props.settings)}},{key:"render",value:function(){var e=this,t=d.default.createElement("div",null,d.default.createElement(y.default,{note:this.state.doc,addNote:this.state.addNote,folder:this.props.folder})),n=void 0;this.props.note&&(n=d.default.createElement("input",{type:"text",name:"title",className:"title",value:this.state.doc.title,onChange:this.editTitle.bind(this)}));var o=void 0;return o=this.props.settings&&this.props.settings.syncDate?this.props.settings.syncDate:"Never",d.default.createElement("div",null,d.default.createElement("div",{onClick:function(){return e.setState({addNote:!e.state.addNote})},className:"btn btn-inline",title:"Add Note"},d.default.createElement(m.default,{name:"plus"}),d.default.createElement("br",null)),"Â Â Â ",d.default.createElement("button",{className:"btn btn-inline btn-small",onClick:this.sync.bind(this),title:"Sync Database"},d.default.createElement(m.default,{name:"sync"})),"Â Â ",d.default.createElement("div",{className:"sync-date"},"Last synced: ",d.default.createElement("strong",null,p.default.unix(o).fromNow())),d.default.createElement("h3",null,this.props.note&&!this.state.addNote?n:""),this.props.note||this.state.addNote?t:"")}}]),t}(s.Component),E=function(e){return{note:e.app.activeNote,folder:e.app.activeFolder,settings:e.app.settings}},g=function(e){return(0,u.bindActionCreators)({saveNote:L.saveNote,deleteNote:L.deleteNote,selectNote:L.selectNote,syncDatabase:C.syncDatabase},e)};t.default=(0,c.connect)(E,g)(b)},358:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case r.LIST_FOLDERS:return a({},e,{folders:t.payload});case r.UPDATE_FOLDER:var n=e.folders.map(function(e){return e.id==t.payload.updated?{doc:t.payload.doc,id:t.payload.updated}:e});return a({},e,{folders:n});case r.ADD_FOLDER:var s=[].concat(o(e.folders),[{doc:t.payload.doc,id:t.payload.doc._id}]);return a({},e,{folders:s});case r.DELETE_FOLDER:var d=e.folders.filter(function(e){if(e.id!=t.payload.deleted)return e});return a({},e,{folders:d});case r.SELECT_FOLDER:return a({},e,{activeFolder:t.payload});case l.LIST_NOTES:return a({},e,{notes:t.payload});case l.UPDATE_NOTE:var c=e.notes.map(function(e){return e.id==t.payload.updated?{doc:t.payload.doc,id:t.payload.updated}:e});return a({},e,{notes:c});case l.ADD_NOTE:var u=[].concat(o(e.notes),[{doc:t.payload,id:t.payload._id}]);return a({},e,{notes:u});case l.DELETE_NOTE:var f=e.notes.filter(function(e){if(e.id!=t.payload.deleted)return e});return a({},e,{notes:f});case l.SELECT_NOTE:return a({},e,{activeNote:t.payload});case i.SETTINGS:return a({},e,{settings:t.payload});case i.SYNC:return a({},e,{settings:t.payload});default:return e}};var r=n(64),l=n(30),i=n(49)},49:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.syncDatabase=t.SYNC=t.updateSettings=t.SETTINGS=t.addDesignDoc=t.db=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(62),l=o(r),i=n(0),s=o(i);l.default.plugin(n(133)),l.default.plugin(n(134)),window.PouchDB=l.default;var d=t.db=new l.default("notepila"),c=(t.addDesignDoc=function(){var e={_id:"_design/folders",views:{index:{map:function(e){"folder"==e.type&&emit(e._id)}.toString()}}},t={_id:"_design/notes",views:{index:{map:function(e){"note"==e.type&&emit(e.folder)}.toString()}}};d.bulkDocs([e,t]).then(function(e){d.put({_id:"main",type:"folder",name:"Main"}).then(function(e){console.log("Created main..."),window.location.reload()})}).catch(function(e){console.log("bulkDocs err:",e)})},t.SETTINGS="settings"),u=t.updateSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&d.put(e).catch(function(e){console.log("updateSettings put err:",e)});var t=d.get("settings");return function(e){t.then(function(t){e({type:c,payload:t})}).catch(function(t){e({type:c,payload:{syncUrl:"",_id:"settings",syncDate:""}})})}},f=t.SYNC="sync";t.syncDatabase=function(e){var t=new l.default(e.syncUrl),n=d.sync(t);return function(t){n.on("complete",function(){var n=a({},e,{syncDate:(0,s.default)().unix()});u(n),window.location.reload(),t({type:f,payload:n})}).on("error",function(e){console.log("db.sync err:",e)})}}},633:function(e,t,n){e.exports=n.p+"./assets/img/logo.png"},64:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=c.db.query("folders/index",{include_docs:!0});return function(t){e.then(function(e){t({type:f,payload:e.rows})}).catch(function(e){console.log("folders/index err:",e),"not_found"==e.name&&(0,c.addDesignDoc)()})}}function r(e){var t=c.db.put({_id:(0,d.default)(e),type:"folder",name:e});return function(e){t.then(function(t){return c.db.get(t.id).then(function(t){e({type:L,payload:{doc:t,added:t._id}})})})}}function l(e,t){var n={_id:e._id,_rev:e._rev,name:t,type:"folder"},o=c.db.put(n);return function(e){o.then(function(t){return c.db.get(t.id).then(function(t){e({type:h,payload:{doc:t,updated:t._id}})})})}}function i(e){c.db.query("notes/index",{key:e.doc._id,include_docs:!0}).then(function(e){e.rows.map(function(e){e.doc.folder="main",c.db.put(e.doc)})});var t=c.db.remove(e.doc);return function(e){t.then(function(t){e({type:C,payload:{data:t,deleted:t.id}})}).catch(function(e){console.log("deleteFolder err:",e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectFolder=t.UPDATE_FOLDER=t.DELETE_FOLDER=t.ADD_FOLDER=t.SELECT_FOLDER=t.LIST_FOLDERS=void 0,t.listFolders=a,t.addFolder=r,t.updateFolder=l,t.deleteFolder=i;var s=n(84),d=o(s),c=n(49),u=n(30),f=t.LIST_FOLDERS="list_folders",p=t.SELECT_FOLDER="select_folder",L=t.ADD_FOLDER="add_folder",C=t.DELETE_FOLDER="remove_folder",h=t.UPDATE_FOLDER="update_folder";t.selectFolder=function(e){return function(t){e.doc?t({type:p,payload:e.doc}):c.db.get(e).then(function(e){t({type:p,payload:e})}),e.id||(e={id:e});var n=c.db.query("notes/index",{key:e.id,include_docs:!0});n.then(function(e){t({type:u.LIST_NOTES,payload:e.rows})})}}},640:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(9),r=o(a),l=n(28),i=o(l),s=n(25),d=n(19),c=n(62),u=(o(c),n(85)),f=o(u);n(345),n(342),n(343),n(341),n(340),n(344),n(339);var p=n(338),L=o(p),C=n(130),h=(o(C),n(131)),y=(o(h),n(337)),v=o(y),m=(0,d.applyMiddleware)(f.default)(d.createStore);i.default.render(r.default.createElement(s.Provider,{store:m(L.default)},r.default.createElement(v.default,null)),document.getElementById("app"))}},[640]);
